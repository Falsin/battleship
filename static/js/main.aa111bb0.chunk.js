(this.webpackJsonpbattle_ship=this.webpackJsonpbattle_ship||[]).push([[0],{41:function(n,e,t){},42:function(n,e,t){"use strict";t.r(e);var r,a,i,c=t(0),s=t.n(c),o=t(21),d=t.n(o),u=t(10),l=t(2),j=t(3),b=t(4),f=t(1),h=b.a.footer(r||(r=Object(j.a)(["\n  padding: 2vmin;\n  background: darkblue;\n\n  & a {\n    color: white;\n    text-decoration: none;\n  }\n"])));function p(){return Object(f.jsx)(h,{children:Object(f.jsx)("a",{href:"https://github.com/Falsin",children:"Made by Falsin"})})}var g=b.a.header(a||(a=Object(j.a)(["\n  background: red;\n  padding: 2vmin;\n  margin: 0;\n"]))),x=b.a.h1(i||(i=Object(j.a)(["\n  padding: 0;\n  margin: 0;\n  text-align: center;\n"])));function O(n){return Object(f.jsx)(g,{children:Object(f.jsx)(x,{children:"Battleship"})})}var v,m=function(){var n;return function(){return{name:n,setName:function(e){n=e,this.name=n}}}}()(),y=b.a.div(v||(v=Object(j.a)(["\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n\n  & * {\n    padding: 0;\n    margin: 1vmin;\n  }\n\n  & input {\n    padding: 1vmin;\n    border: solid gray 1px;\n    outline: none;\n  }\n\n  a {\n    display: block;\n    border: solid gray 1px;\n    padding: 1vmin;\n    text-decoration: none;\n    color: black;\n  }\n"])));function k(n){return Object(f.jsxs)(y,{children:[Object(f.jsx)("h3",{children:"Enter player name:"}),Object(f.jsx)("input",{placeholder:"Combat",onBlur:function(n){return m.setName(n.target.value)}}),Object(f.jsx)(u.b,{to:"/gamePage",children:"Start game"})]})}var C=t(9),P=(t(40),t(19));var w=function(n){var e=function(n){var e={isDamage:!1};return new Array(n.length).fill().map((function(){return Object.assign({},e)}))}(n);return{shipPart:e,hit:function(n){e[n].isDamage=!0},isSunk:function(){return e.filter((function(n){return n.isDamage})).length===e.length},isPlaced:!1}};var S,A=function(){var n=[],e=[{name:"carrier",length:5},{name:"battleship",length:4},{name:"Cruiser",length:3},{name:"submarine",length:3},{name:"destroyer",length:2}].map((function(n){return Object(P.a)(Object(P.a)({},n),w(n))}));return{placeShips:function(t){e.find((function(n){return!n.isPlaced})).shipPart.forEach((function(e,r){e.coord=t+r,n.push(t+r)}))},checkCellAssing:function(e){return!n.includes(e)},newShipsArray:e,addCellsIntoHoveredCells:function(n,e){var t=this;this.hoveredCells=[],n.shipPart.forEach((function(n,r){t.hoveredCells.push(e+r)}))},hoveredCells:[]}},B=t(17),E=b.a.div(S||(S=Object(j.a)(["\n  //background:  ",";\n  background: ",";\n  border: solid white 1px;\n"])),(function(n){return n.status.key?"gray":"rgb(66, 66, 255)"}),(function(n){return n.error.key?"red":n.status.key?"gray":"rgb(66, 66, 255)"}));function M(n){var e=Object(c.useState)(!1),t=Object(C.a)(e,2),r=t[0],a=t[1],i=Object(c.useState)(!1),s=Object(C.a)(i,2),o=s[0],d=s[1];return Object(c.useEffect)((function(){if(n.state.board.hoveredCells.includes(n.index))d(!0);else{d(!1);var e,t=n.state.board.newShipsArray,r=Object(B.a)(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(i.isPlaced)i.shipPart.find((function(e){return e.coord===n.index}))&&a(!0)}}catch(c){r.e(c)}finally{r.f()}}})),Object(f.jsx)(E,{onClick:function(){return function(){var e=Object.assign({},n.state.board);if(e.checkCellAssing(n.index)){var t=e.newShipsArray.find((function(n){return!n.isPlaced}));n.index%10+t.length<=10&&(e.placeShips(n.index),t.isPlaced=!0,n.state.setBoard(e))}}()},onMouseEnter:function(){return function(){var e=Object.assign({},n.state.board),t=e.newShipsArray.find((function(n){return!n.isPlaced}));e.checkCellAssing(n.index)?n.index:(e.addCellsIntoHoveredCells(t,n.index),n.state.setBoard(e))}()},status:{key:r},error:{key:o},children:n.index})}function D(n,e){var t,r=e.state.board.newShipsArray,a=Object(B.a)(r);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(i.isPlaced)if(i.shipPart.find((function(n){return n.coord===e.index})))return!1}}catch(c){a.e(c)}finally{a.f()}return!0}var I,F,H=s.a.memo(M,D),J=b.a.div(I||(I=Object(j.a)(["\n  display: grid;\n  grid-template-columns: repeat(10, 4vmin);\n  grid-template-rows: repeat(10, 4vmin);  \n"])));function N(n){var e,t=Object(c.useState)(A()),r=Object(C.a)(t,2),a=r[0],i=r[1];return Object(f.jsx)("div",{children:Object(f.jsx)(J,{children:(e=100,new Array(e).fill().map((function(n,e){return Object(f.jsx)(H,{index:e,state:{board:a,setBoard:i}},e)})))})})}var _,q=b.a.div(F||(F=Object(j.a)(["\n  #gameBoards {\n    display: flex;\n    justify-content: space-around;\n  }\n"])));function z(){return Object(f.jsx)(q,{children:Object(f.jsxs)("div",{id:"gameBoards",children:[Object(f.jsx)(N,{player:m}),Object(f.jsx)(N,{player:{makeMove:function(){}}})]})})}function G(n){return"registration"===n.page?Object(f.jsx)(k,{}):Object(f.jsx)(z,{})}var K=b.a.section(_||(_=Object(j.a)(["\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n"])));function L(n){return Object(f.jsxs)(K,{children:[Object(f.jsx)(O,{}),Object(f.jsx)(G,{page:"registration"}),Object(f.jsx)(p,{})]})}var Q=function(n){return Object(f.jsxs)("section",{children:[Object(f.jsx)(O,{}),Object(f.jsx)(G,{}),Object(f.jsx)(p,{})]})};var R=function(){return Object(f.jsx)(u.a,{children:Object(f.jsxs)(l.c,{children:[Object(f.jsx)(l.a,{exact:!0,path:"/",component:L}),Object(f.jsx)(l.a,{exact:!0,path:"/gamePage",component:Q})]})})};t(41);d.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(R,{})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.aa111bb0.chunk.js.map