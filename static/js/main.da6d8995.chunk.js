(this.webpackJsonpbattle_ship=this.webpackJsonpbattle_ship||[]).push([[0],{39:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var r,a,c,i=t(0),o=t.n(i),l=t(20),s=t.n(l),u=t(11),j=t(2),d=t(3),b=t(4),h=t(1),f=b.a.footer(r||(r=Object(d.a)(["\n  padding: 2vmin;\n  background: darkblue;\n\n  & a {\n    color: white;\n    text-decoration: none;\n  }\n"])));function O(){return Object(h.jsx)(f,{children:Object(h.jsx)("a",{href:"https://github.com/Falsin",children:"Made by Falsin"})})}var g=b.a.header(a||(a=Object(d.a)(["\n  background: red;\n  padding: 2vmin;\n  margin: 0;\n"]))),v=b.a.h1(c||(c=Object(d.a)(["\n  padding: 0;\n  margin: 0;\n  text-align: center;\n"])));function p(e){return Object(h.jsx)(g,{children:Object(h.jsx)(v,{children:"Battleship"})})}var x,m=function(){var e;return function(){return{name:e,setName:function(n){e=n,this.name=e}}}}()(),y=b.a.div(x||(x=Object(d.a)(["\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n\n  & * {\n    padding: 0;\n    margin: 1vmin;\n  }\n\n  & input {\n    padding: 1vmin;\n    border: solid gray 1px;\n    outline: none;\n  }\n\n  a {\n    display: block;\n    border: solid gray 1px;\n    padding: 1vmin;\n    text-decoration: none;\n    color: black;\n  }\n"])));function C(e){return Object(h.jsxs)(y,{children:[Object(h.jsx)("h3",{children:"Enter player name:"}),Object(h.jsx)("input",{placeholder:"Combat",onBlur:function(e){return m.setName(e.target.value)}}),Object(h.jsx)(u.b,{to:"/gamePage",children:"Start game"})]})}var S=t(7),k=t(10),w=t.n(k),P=t(18);var A=function(e){var n=function(e){var n={isDamage:!1};return new Array(e.length).fill().map((function(){return Object.assign({},n)}))}(e);return{shipPart:n,hit:function(e){n[e].isDamage=!0},isSunk:function(){return n.filter((function(e){return e.isDamage})).length===n.length},isPlaced:!1}};var z,B,E=function(){var e=[{name:"carrier",length:5},{name:"battleship",length:4},{name:"Cruiser",length:3},{name:"submarine",length:3},{name:"destroyer",length:2}].map((function(e){return Object(P.a)(Object(P.a)({},e),A(e))}));return{placeShips:function(n){var t=e.find((function(e){return!e.isPlaced}));return n.vertical+t.length<11?(t.shipPart.forEach((function(e,t){e.coord=Object.assign({},n,{vertical:n.vertical+t})})),t):"Invalid value"},newShipsArray:e}},M=b.a.div(z||(z=Object(d.a)(["\n  width: 3vmin;\n  height: 3vmin;\n  background:  ",";\n  border: solid white 1px;\n"])),(function(e){return e.status.key?"gray":"rgb(66, 66, 255)"}));function D(e){var n=Object(i.useContext)(N),t=Object(i.useState)({horizontal:e.horizontal,vertical:e.vertical}),r=Object(S.a)(t,1)[0],a=Object(i.useState)(!1),c=Object(S.a)(a,2),o=c[0],l=c[1];return console.log(n),Object(i.useEffect)((function(){var e=n.selectedCells.find((function(e){return e.vertical===r.vertical&&e.horizontal===r.horizontal}));console.log(e),e?(l(!0),console.log("work")):l(!1)}),[o]),Object(h.jsx)(M,{onMouseEnter:function(){var e=n.board.board.newShipsArray.find((function(e){return!e.isPlaced}));if(!(r.vertical+e.length<11))return"Invalid value";var t=new Array(e.length).fill().map((function(e,n){return Object.assign({},r,{vertical:r.vertical+n})}));n.selectedCells.setSelectedCells(t)},onClick:function(){return console.log(n.board.boardForGame.placeShips(r))},status:{key:o}})}var F=b.a.div(B||(B=Object(d.a)(["\n  display: flex;\n"])));function I(e){return Object(h.jsx)(F,{children:new Array(e.countCells).fill().map((function(n,t){return Object(h.jsx)(D,{vertical:++t,horizontal:e.horizontal},w()())})).map((function(e){return e}))})}var J,N=o.a.createContext(null);function R(e){var n,t,r=Object(i.useState)(E()),a=Object(S.a)(r,2),c=a[0],o=a[1],l=Object(i.useState)(e.player),s=Object(S.a)(l,2),u=s[0],j=s[1],d=Object(i.useState)(!1),b=Object(S.a)(d,2),f=b[0],O=b[1],g=Object(i.useState)([]),v=Object(S.a)(g,2),p={isReady:f,setReadyStatus:O},x={board:c,setBoard:o},m={player:u,setPlayer:j},y={selectedCells:v[0],setSelectedCells:v[1]};return Object(h.jsx)(N.Provider,{value:{user:m,status:p,board:x,selectedCells:y,changeContext:function(){}},children:Object(h.jsx)("div",{children:(n=10,t=10,new Array(n).fill().map((function(e,n){var r=String.fromCharCode("A".charCodeAt(0)+n);return Object(h.jsx)(I,{horizontal:r,countCells:t},w()())}))).map((function(e){return e}))})})}var _,G=b.a.div(J||(J=Object(d.a)(["\n  #gameBoards {\n    display: flex;\n    justify-content: space-around;\n  }\n"])));function q(){return Object(h.jsx)(G,{children:Object(h.jsxs)("div",{id:"gameBoards",children:[Object(h.jsx)(R,{player:m}),Object(h.jsx)(R,{player:{makeMove:function(){}}})]})})}function H(e){return"registration"===e.page?Object(h.jsx)(C,{}):Object(h.jsx)(q,{})}var K=b.a.section(_||(_=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n"])));function L(e){return Object(h.jsxs)(K,{children:[Object(h.jsx)(p,{}),Object(h.jsx)(H,{page:"registration"}),Object(h.jsx)(O,{})]})}var Q=function(e){return Object(h.jsxs)("section",{children:[Object(h.jsx)(p,{}),Object(h.jsx)(H,{}),Object(h.jsx)(O,{})]})};var T=function(){return Object(h.jsx)(u.a,{children:Object(h.jsxs)(j.c,{children:[Object(h.jsx)(j.a,{exact:!0,path:"/",component:L}),Object(h.jsx)(j.a,{exact:!0,path:"/gamePage",component:Q})]})})};t(39);s.a.render(Object(h.jsx)(o.a.StrictMode,{children:Object(h.jsx)(T,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.da6d8995.chunk.js.map