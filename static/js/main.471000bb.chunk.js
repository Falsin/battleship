(this.webpackJsonpbattle_ship=this.webpackJsonpbattle_ship||[]).push([[0],{41:function(e,n,t){},42:function(e,n,t){"use strict";t.r(n);var r,a,i,c=t(0),s=t.n(c),o=t(20),l=t.n(o),d=t(10),u=t(2),j=t(3),b=t(4),h=t(1),f=b.a.footer(r||(r=Object(j.a)(["\n  padding: 2vmin;\n  background: darkblue;\n\n  & a {\n    color: white;\n    text-decoration: none;\n  }\n"])));function g(){return Object(h.jsx)(f,{children:Object(h.jsx)("a",{href:"https://github.com/Falsin",children:"Made by Falsin"})})}var p=b.a.header(a||(a=Object(j.a)(["\n  background: red;\n  padding: 2vmin;\n  margin: 0;\n"]))),x=b.a.h1(i||(i=Object(j.a)(["\n  padding: 0;\n  margin: 0;\n  text-align: center;\n"])));function O(e){return Object(h.jsx)(p,{children:Object(h.jsx)(x,{children:"Battleship"})})}var v,m=function(){var e;return function(){return{name:e,setName:function(n){e=n,this.name=e}}}}()(),y=b.a.div(v||(v=Object(j.a)(["\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n\n  & * {\n    padding: 0;\n    margin: 1vmin;\n  }\n\n  & input {\n    padding: 1vmin;\n    border: solid gray 1px;\n    outline: none;\n  }\n\n  a {\n    display: block;\n    border: solid gray 1px;\n    padding: 1vmin;\n    text-decoration: none;\n    color: black;\n  }\n"])));function k(e){return Object(h.jsxs)(y,{children:[Object(h.jsx)("h3",{children:"Enter player name:"}),Object(h.jsx)("input",{placeholder:"Combat",onBlur:function(e){return m.setName(e.target.value)}}),Object(h.jsx)(d.b,{to:"/gamePage",children:"Start game"})]})}var C=t(7),w=(t(40),t(18));var S=function(e){var n=function(e){var n={isDamage:!1};return new Array(e.length).fill().map((function(){return Object.assign({},n)}))}(e);return{shipPart:n,hit:function(e){n[e].isDamage=!0},isSunk:function(){return n.filter((function(e){return e.isDamage})).length===n.length},isPlaced:!1}};var P,A=function(){var e=[],n=[{name:"carrier",length:5},{name:"battleship",length:4},{name:"Cruiser",length:3},{name:"submarine",length:3},{name:"destroyer",length:2}].map((function(e){return Object(w.a)(Object(w.a)({},e),S(e))}));return{placeShips:function(t){this.hoveredCells=[],n.find((function(e){return!e.isPlaced})).shipPart.forEach((function(n,r){n.coord=t+r,e.push(t+r)}))},checkCellAssing:function(n){return!e.includes(n)},newShipsArray:n,addCellsIntoHoveredCells:function(e,n){var t=this;this.hoveredCells=[],e.shipPart.forEach((function(e,r){t.hoveredCells.push(n+r)}))},hoveredCells:[],selectedCells:e}},B=t(25),E=b.a.div(P||(P=Object(j.a)(["\n  //background:  ",";\n  background: ",";\n  border: solid white 1px;\n"])),(function(e){return e.status.key?"gray":"rgb(66, 66, 255)"}),(function(e){return e.error.key?"red":e.status.key||e.hover.key?"gray":"rgb(66, 66, 255)"}));function I(e){var n=Object(c.useState)(!1),t=Object(C.a)(n,2),r=t[0],a=t[1],i=Object(c.useState)(!1),s=Object(C.a)(i,2),o=s[0],l=s[1],d=Object(c.useState)(!1),u=Object(C.a)(d,2),j=u[0],b=u[1];return Object(c.useEffect)((function(){var n=e.state.board.newShipsArray;if(e.state.board.hoveredCells.includes(e.index))e.state.board.selectedCells.includes(e.index)?l(!0):b(!0);else{j&&b(!1),l(!1);var t,r=Object(B.a)(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i.isPlaced)i.shipPart.find((function(n){return n.coord===e.index}))&&a(!0)}}catch(c){r.e(c)}finally{r.f()}}})),Object(h.jsx)(E,{onClick:function(){return function(){var n=Object.assign({},e.state.board);if(n.checkCellAssing(e.index)){var t=n.newShipsArray.find((function(e){return!e.isPlaced}));e.index%10+t.length<=10&&(n.placeShips(e.index),t.isPlaced=!0,e.state.setBoard(n))}}()},onMouseEnter:function(){return function(){var n=Object.assign({},e.state.board),t=n.newShipsArray.find((function(e){return!e.isPlaced}));n.checkCellAssing(e.index)?(console.log("work1"),e.index%10+t.length<=10&&(n.addCellsIntoHoveredCells(t,e.index),e.state.setBoard(n))):(console.log("work2"),n.addCellsIntoHoveredCells(t,e.index),e.state.setBoard(n))}()},status:{key:r},error:{key:o},hover:{key:j},children:e.index})}function M(e,n){return!(e!==n)}var D,H,F=s.a.memo(I,M),J=b.a.div(D||(D=Object(j.a)(["\n  display: grid;\n  grid-template-columns: repeat(10, 4vmin);\n  grid-template-rows: repeat(10, 4vmin);  \n"])));function N(e){var n,t=Object(c.useState)(A()),r=Object(C.a)(t,2),a=r[0],i=r[1];return Object(h.jsx)("div",{children:Object(h.jsx)(J,{children:(n=100,new Array(n).fill().map((function(e,n){return Object(h.jsx)(F,{index:n,state:{board:a,setBoard:i}},n)})))})})}var _,q=b.a.div(H||(H=Object(j.a)(["\n  #gameBoards {\n    display: flex;\n    justify-content: space-around;\n  }\n"])));function z(){return Object(h.jsx)(q,{children:Object(h.jsxs)("div",{id:"gameBoards",children:[Object(h.jsx)(N,{player:m}),Object(h.jsx)(N,{player:{makeMove:function(){}}})]})})}function G(e){return"registration"===e.page?Object(h.jsx)(k,{}):Object(h.jsx)(z,{})}var K=b.a.section(_||(_=Object(j.a)(["\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n"])));function L(e){return Object(h.jsxs)(K,{children:[Object(h.jsx)(O,{}),Object(h.jsx)(G,{page:"registration"}),Object(h.jsx)(g,{})]})}var Q=function(e){return Object(h.jsxs)("section",{children:[Object(h.jsx)(O,{}),Object(h.jsx)(G,{}),Object(h.jsx)(g,{})]})};var R=function(){return Object(h.jsx)(d.a,{children:Object(h.jsxs)(u.c,{children:[Object(h.jsx)(u.a,{exact:!0,path:"/",component:L}),Object(h.jsx)(u.a,{exact:!0,path:"/gamePage",component:Q})]})})};t(41);l.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(R,{})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.471000bb.chunk.js.map