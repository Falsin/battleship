(this.webpackJsonpbattle_ship=this.webpackJsonpbattle_ship||[]).push([[0],{39:function(n,e,t){},40:function(n,e,t){"use strict";t.r(e);var r,a,i,c=t(0),o=t.n(c),s=t(19),d=t.n(s),u=t(10),l=t(2),j=t(3),b=t(4),h=t(1),f=b.a.footer(r||(r=Object(j.a)(["\n  padding: 2vmin;\n  background: darkblue;\n\n  & a {\n    color: white;\n    text-decoration: none;\n  }\n"])));function p(){return Object(h.jsx)(f,{children:Object(h.jsx)("a",{href:"https://github.com/Falsin",children:"Made by Falsin"})})}var g=b.a.header(a||(a=Object(j.a)(["\n  background: red;\n  padding: 2vmin;\n  margin: 0;\n"]))),x=b.a.h1(i||(i=Object(j.a)(["\n  padding: 0;\n  margin: 0;\n  text-align: center;\n"])));function O(n){return Object(h.jsx)(g,{children:Object(h.jsx)(x,{children:"Battleship"})})}var m,v=function(){var n;return function(){return{name:n,setName:function(e){n=e,this.name=n}}}}()(),y=b.a.div(m||(m=Object(j.a)(["\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n\n  & * {\n    padding: 0;\n    margin: 1vmin;\n  }\n\n  & input {\n    padding: 1vmin;\n    border: solid gray 1px;\n    outline: none;\n  }\n\n  a {\n    display: block;\n    border: solid gray 1px;\n    padding: 1vmin;\n    text-decoration: none;\n    color: black;\n  }\n"])));function k(n){return Object(h.jsxs)(y,{children:[Object(h.jsx)("h3",{children:"Enter player name:"}),Object(h.jsx)("input",{placeholder:"Combat",onBlur:function(n){return v.setName(n.target.value)}}),Object(h.jsx)(u.b,{to:"/gamePage",children:"Start game"})]})}var w=t(9),P=(t(38),t(17));var S=function(n){var e=function(n){var e={isDamage:!1};return new Array(n.length).fill().map((function(){return Object.assign({},e)}))}(n);return{shipPart:e,hit:function(n){e[n].isDamage=!0},isSunk:function(){return e.filter((function(n){return n.isDamage})).length===e.length},isPlaced:!1}};var B,A,E,C=function(){var n=[{name:"carrier",length:5},{name:"battleship",length:4},{name:"Cruiser",length:3},{name:"submarine",length:3},{name:"destroyer",length:2}].map((function(n){return Object(P.a)(Object(P.a)({},n),S(n))}));return{placeShips:function(e){n.find((function(n){return!n.isPlaced})).shipPart.forEach((function(n,t){n.coord=Object.assign({},{coord:e+t})}))},newShipsArray:n}},D=b.a.div(B||(B=Object(j.a)(["\n  background:  ",";\n  border: solid white 1px;\n"])),(function(n){return n.status.key?"gray":"rgb(66, 66, 255)"})),M=o.a.memo((function(n){var e=Object(c.useState)(!1),t=Object(w.a)(e,2),r=t[0],a=t[1];return console.log("work"),Object(c.useEffect)((function(){for(var e=n.state.board.newShipsArray,t=0;t<e.length;t++){if(e[t].isPlaced)e[t].shipPart.find((function(e){return e.coord.coord===n.index}))&&a(!0)}})),Object(h.jsx)(D,{onClick:function(){var e=Object.assign({},n.state.board),t=e.newShipsArray.find((function(n){return!n.isPlaced}));n.index%10+t.length<=10&&(e.placeShips(n.index),t.isPlaced=!0,n.state.setBoard(e))},status:{key:r},children:n.index})}),(function(n,e){for(var t=e.state.board.newShipsArray,r=0;r<t.length;r++){if(t[r].isPlaced)if(t[r].shipPart.find((function(n){return n.coord.coord===e.index})))return!1}return!0})),F=b.a.div(A||(A=Object(j.a)(["\n  display: grid;\n  grid-template-columns: repeat(10, 4vmin);\n  grid-template-rows: repeat(10, 4vmin);  \n"])));function J(n){var e,t=Object(c.useState)(C()),r=Object(w.a)(t,2),a=r[0],i=r[1];return Object(h.jsx)("div",{children:Object(h.jsx)(F,{children:(e=100,new Array(e).fill().map((function(n,e){return Object(h.jsx)(M,{index:e,state:{board:a,setBoard:i}},e)})))})})}var N,_=b.a.div(E||(E=Object(j.a)(["\n  #gameBoards {\n    display: flex;\n    justify-content: space-around;\n  }\n"])));function I(){return Object(h.jsx)(_,{children:Object(h.jsxs)("div",{id:"gameBoards",children:[Object(h.jsx)(J,{player:v}),Object(h.jsx)(J,{player:{makeMove:function(){}}})]})})}function q(n){return"registration"===n.page?Object(h.jsx)(k,{}):Object(h.jsx)(I,{})}var z=b.a.section(N||(N=Object(j.a)(["\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n"])));function G(n){return Object(h.jsxs)(z,{children:[Object(h.jsx)(O,{}),Object(h.jsx)(q,{page:"registration"}),Object(h.jsx)(p,{})]})}var H=function(n){return Object(h.jsxs)("section",{children:[Object(h.jsx)(O,{}),Object(h.jsx)(q,{}),Object(h.jsx)(p,{})]})};var K=function(){return Object(h.jsx)(u.a,{children:Object(h.jsxs)(l.c,{children:[Object(h.jsx)(l.a,{exact:!0,path:"/",component:G}),Object(h.jsx)(l.a,{exact:!0,path:"/gamePage",component:H})]})})};t(39);d.a.render(Object(h.jsx)(o.a.StrictMode,{children:Object(h.jsx)(K,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.ca68c307.chunk.js.map